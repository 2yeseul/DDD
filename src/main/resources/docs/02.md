# 도메인 영역의 주요 구성요소

|요소|설명|
|---|---|
|엔티티(Entity)|고유한 식별자를 갖는 객체로 자신의 라이프 사이클을 갖는다. 도메인의 고유한 개념을 표현. 도메인 모델의 데이터를 포함 및 데이터와 관련된 기능 제공
|밸류(Value)|고유한 식별자를 갖지 않는 객체. 주로 개념적인 하나인 값을 표현할 때 사용. 엔티티의 속성 뿐만 아니라 밸류 타입의 속성으로도 사용|
|애그리거트(Aggregate)|애그리거트는 연관된 엔티티와 밸류 객체를 개념적으로 하나로 묶은 것이다. ex) '주문' 애그리거트 = Order 엔티티 + OrderLine 밸류|
|리파지터리(Repository)|도메인의 영속성을 처리|
|도메인 서비스(Domain Service)|특정 엔티티에 속하지 않은 도메인 로직 제공. 도메인 로직이 여러 엔티티와 밸류를 필요로 하면 도메인 서비스에서 로직을 구현|


## 엔티티와 밸류

### DB 테이블의 엔티티 vs 도메인 모델의 엔티티
> 도메인 모델의 엔티티는 데이터와 함께 도메인 기능을 함께 제공한다
- 주문을 표현하는 엔티티는 주문과 관련된 데이터 뿐만 아니라 배송지 주소 변경을 위한 기능을 함께 제공

``` java
public class Order {
    // 주문 도메인 모델의 데이터
    private OrderNo number;
    private Orderer orderer;
    // ...
    
    // 도메인 기능 제공
    public void changeShippingInfo(ShippingInfo newShippingInfo) {
        // ... 
    }
}
```

도메인 모델의 엔티티는 단순히 데이터를 담고 있는 데이터 구조가 아닌, 데이터와 함께 기능을 제공하는 객체이다. 도메인 관점에서 기능을 구현하고,
기능 구현을 캡슐화해서 데이터가 임의로 변경되지 않도록 한다.

또한 두 개 이상의 데이터가 개념적으로 하나인 경우, 밸류 타입을 이용하여 이를 표현할 수 있다. 
- 주문자를 표현하는 Orderer 는, 주문자 이름과 이메일 데이터를 포함할 수 있다.

## 리파지토리
리파지토리를 사용하는 주체가 응용 서비스이기 때문에, 리파지터리는 응용서비스가 필요로하는 메서드를 제공한다
- 애그리거트를 저장하는 메섣,
- 애그리거트 루트 식별자로 애그리거트를 조회하는 메서드


# 애그리거트 루트
